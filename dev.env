# DEVELOPEMENT .env 
# This file stores secrets and environment-specific configurations.
# Get this value from your Keycloak client's "Credentials" tab.

# Keycloak environment variables
KEYCLOAK_ADMIN=admin 
KEYCLOAK_ADMIN_PASSWORD=admin 
KC_DB=postgres 
KC_DB_URL=jdbc:postgresql://postgres:5432/keycloak 
KC_DB_USERNAME=admin 
KC_DB_PASSWORD=admin 
KC_HOSTNAME=hubkeycloak.mouzaiaclinic.local 
KC_HTTP_ENABLED=true
KC_HTTP_PORT=8080
KC_PROXY_HEADERS=xforwarded
KC_HOSTNAME_STRICT=false

# Postgres environment variables
POSTGRES_DB=clinic-mouzaia-hub
POSTGRES_USER=admin
POSTGRES_PASSWORD=admin
LANG=en_US.utf8
LC_ALL=en_US.utf8
TZ=Africa/Algiers

# identity service environment variables
KEYCLOAK_BASE_URL=http://keycloak:8080
REALM=clinic-mouzaia-hub
SERVICE_CLIENT_ID=identity-service
SERVICE_CLIENT_SECRET=3o6528pUAr....zqNoUdpyOh
TRUST_GATEWAY=true
IDENTITY_SERVICE_PORT=4000

# Kong (DB-less) centralized configuration
# Runtime KONG_* (can be left as defaults baked in Dockerfile)
KONG_DATABASE=off
KONG_DECLARATIVE_CONFIG=/etc/kong/kong.yaml
KONG_ADMIN_LISTEN=off
KONG_PROXY_ACCESS_LOG=/dev/stdout
KONG_PROXY_ERROR_LOG=/dev/stderr
KONG_LOG_LEVEL=notice
KONG_VAULTS=env
KONG_PLUGINS=bundled

# JWT configuration for Kong (built-in jwt plugin, via env vault)
# Set to the current active "kid" from the realm JWKS endpoint
KEYCLOAK_JWT_KID=NR_W2onX9GdwnFUFhMKl2Ejgz7uv1SEsslyc3zbRRBw
# Paste the PEM public key content of the active Keycloak RSA key (multi-line is fine)
KEYCLOAK_JWT_PUBKEY_BODY=----BEGIN PUBLIC KEY----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2GW3aNMcUYu...qmtm715f89wijHnPwIDAQAB
----END PUBLIC KEY----

# Placeholder required by Kong schema for RS256; unused
KEYCLOAK_JWT_SECRET_UNUSED=unused-for-rs256